
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../vervolg-python/">
      
      
        <link rel="next" href="../github/">
      
      
      <link rel="icon" href="../figures/ECPC_logo_simple.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Communicatie met een meetinstrument - Experiment Control with Python Course</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../stylesheets/opdrachten.css">
    
      <link rel="stylesheet" href="../assets/folder_tree/folder_tree.css">
    
      <link rel="stylesheet" href="../assets/comparison/comparison.css">
    
      <link rel="stylesheet" href="../assets/ADC_slider/ADC_slider.css">
    
      <link rel="stylesheet" href="../assets/run_button/run_button.css">
    
      <link rel="stylesheet" href="../assets/cheatsheets/cheatsheets.css">
    
      <link rel="stylesheet" href="../assets/particle-spin-flip/spin-flip.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#communicatie-met-een-meetinstrument" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Experiment Control with Python Course" class="md-header__button md-logo" aria-label="Experiment Control with Python Course" data-md-component="logo">
      
  <img src="../figures/ECPC_logo_plain.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Experiment Control with Python Course
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Communicatie met een meetinstrument
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Experiment Control with Python Course" class="md-nav__button md-logo" aria-label="Experiment Control with Python Course" data-md-component="logo">
      
  <img src="../figures/ECPC_logo_plain.svg" alt="logo">

    </a>
    Experiment Control with Python Course
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introductie
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Voorkennis en verdieping
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Voorkennis en verdieping
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../basis-python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basiskennis Python
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vervolg-python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Uitgebreidere Python kennis
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Communicatie met een meetinstrument
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Communicatie met een meetinstrument
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#microcontrollers" class="md-nav__link">
    <span class="md-ellipsis">
      Microcontrollers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#communicatieprotocol" class="md-nav__link">
    <span class="md-ellipsis">
      Communicatieprotocol
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#eerste-stappen" class="md-nav__link">
    <span class="md-ellipsis">
      Eerste stappen
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#een-eenvoudig-script" class="md-nav__link">
    <span class="md-ellipsis">
      Een eenvoudig script
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../github/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Versiebeheer met GitHub
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../basisscript/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basisscript voor het experiment
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../classes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Classes
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../mvc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Model-View-Controller
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../docstrings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docstrings
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../projects/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pythonprojecten met uv
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Command-line interface
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../tui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Text-based user interfaces
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../gui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Graphical user interfaces
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../eindfeest/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Eindfeest
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_14" >
        
          
          <label class="md-nav__link" for="__nav_14" id="__nav_14_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Appendices
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_14">
            <span class="md-nav__icon md-icon"></span>
            Appendices
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cheatsheets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cheatsheets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../firmware/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Firmware
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../kleurcodes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kleurcodes voor weerstanden
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../diodes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    De diode: een p-n-overgang
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../terminal-adventure-game/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Terminal Adventure Game
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../virtual_environments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Virtual environments
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../black/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Black / Ruff
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../zonnecel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Zonnecel
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../benodigdheden/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lijst van benodigdheden
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="communicatie-met-een-meetinstrument">Communicatie met een meetinstrument<a class="headerlink" href="#communicatie-met-een-meetinstrument" title="Permanent link">&para;</a></h1>
<p>Het hart van ieder experiment wordt gevormd door de <em>metingen</em> die worden uitgevoerd. Meetinstrumenten vervullen daarom een belangrijke rol bij het automatiseren van een experiment. De eerste stap die je zult zetten tijdens het ontwikkelen van een applicatie is het communiceren met het meetinstrument. We hebben gekozen voor een Arduino Nano 33 IoT,<sup id="fnref:arduino_device"><a class="footnote-ref" href="#fn:arduino_device">10</a></sup> een zeer compact stukje elektronica rondom een ARM-microcontroller. Naast het uitvoeren van analoge spanningsmetingen kan dit model ook analoge spanningen afgeven dat voor het experiment heel nuttig gaat blijken te zijn. We hebben &mdash; speciaal voor deze cursus &mdash; een stukje <em>firmware</em><sup id="fnref:firmware"><a class="footnote-ref" href="#fn:firmware">1</a></sup> ontwikkeld.<sup id="fnref:arduino_visa_firmware"><a class="footnote-ref" href="#fn:arduino_visa_firmware">11</a></sup></p>
<h2 id="microcontrollers">Microcontrollers<a class="headerlink" href="#microcontrollers" title="Permanent link">&para;</a></h2>
<p>Computers &mdash; zoals de meesten van ons die kennen &mdash; zijn zeer krachtig en ontworpen om zo flexibel mogelijk te zijn. Ze draaien games, e-mail of rekenen klimaatmodellen door. Ze komen in veel vormen: desktops, laptops, tablets en <q>telefoons</q>. Ze bevatten veel losse componenten: snelle processor (CPU), veel geheugen (RAM), veel permanente opslag (SSD), complexe interfaces (HDMI, USB) en een besturingssysteem waarmee je verschillende programma's kunt opstarten en de computer kunt beheren. Computers zijn behoorlijk prijzig.</p>
<p>Een microcontroller daarentegen is veel eenvoudiger. Ze zijn ontworpen voor een beperkte en specifieke taak. Ze hebben veel verschijningsvormen &mdash; de meeste onherkenbaar. Je vindt microcontrollers in de vaatwasser, de magnetron, een draadloos toetsenbord en auto's (letterlijk tientallen verspreid over de hele auto). Ze hebben dan een beperkte taak: ze reageren op de knopjes op je dashboard om het klimaat te regelen of een raam te openen en ze sturen de kleppen in een verbrandingsmotor aan. Microcontrollers bevatten CPU, RAM en <q>SSD</q> vaak in één chip en hebben beperkte interfaces (vaak letterlijk losse pinnetjes die je moet verbinden). De CPU is relatief gezien traag en de hoeveelheid geheugen klein. Voor de beperkte taak is dat niet erg. Een besturingssysteem is niet nodig: als je hem aanzet draait hij meteen het enige programma dat ooit ingeladen is (dit heet dan <em>firmware</em>). Microcontrollers zijn goedkoop en daarom ook uitermate geschikt voor hobbyprojecten.</p>
<p>Een Arduino is zo'n microcontroller. Vaak wordt een Arduino vergeleken met een Raspberry Pi &mdash; een andere goedkope computer. Maar een Raspberry Pi is écht een computer (en daarmee ook complex). Daarmee is een Raspberry Pi veel veelzijdiger, maar ook duurder en is het complexer om een eenvoudig programma te draaien. Apparatuur zoals frequentiegeneratoren en oscilloscopen hebben vaak een microcontroller ingebouwd, maar soms ook een microcomputer analoog aan een Raspberry Pi. Dat maakt voor ons weinig verschil zolang we maar weten hoe we het instrument kunnen aansturen.</p>
<h2 id="communicatieprotocol">Communicatieprotocol<a class="headerlink" href="#communicatieprotocol" title="Permanent link">&para;</a></h2>
<p>Hoe praat je eigenlijk met hardware? Voor fabrikanten zijn er een paar opties:</p>
<ol>
<li>Je maakt gebruik van een al bestaand protocol (een bestaande <em>standaard</em>) en je schrijft vervolgens documentatie specifiek voor jouw instrument (bijvoorbeeld de VISA-standaard<sup id="fnref:VISA"><a class="footnote-ref" href="#fn:VISA">12</a></sup>, onder andere gebruikt door <em>Tektronix</em> digitale oscilloscopen<sup id="fnref:tektronix"><a class="footnote-ref" href="#fn:tektronix">13</a></sup>).</li>
<li>Je schrijft een <em>proprietary</em><sup id="fnref:proprietary"><a class="footnote-ref" href="#fn:proprietary">2</a></sup> protocol en een bijbehorende bibliotheek die softwareontwikkelaars moeten gebruiken.<sup id="fnref:drivers"><a class="footnote-ref" href="#fn:drivers">3</a></sup> Voorbeelden zijn instrumenten van <em>National Instruments</em><sup id="fnref:national_instruments"><a class="footnote-ref" href="#fn:national_instruments">14</a></sup> of de <em>PicoScope</em> digitale oscilloscopen<sup id="fnref:picoscope_footnote"><a class="footnote-ref" href="#fn:picoscope_footnote">4</a></sup> <sup id="fnref:picoscope"><a class="footnote-ref" href="#fn:picoscope">15</a></sup>.</li>
</ol>
<p>De VISA-standaard is veelgebruikt, maar helaas komen <em>proprietary</em> protocollen veel voor. Dat is jammer, want in het laatste geval moet je het doen met de software die geleverd wordt door de fabrikant. Als die jouw besturingssysteem of jouw favoriete programmeertaal niet ondersteunt, heb je simpelweg pech.</p>
<p>Wij gaan gebruik maken van de VISA-standaard. VISA staat voor <em>Virtual Instrument Software Architecture</em> en is héél breed en definieert ook protocollen om te communiceren via allerlei verouderde computerpoorten en kabels. Hieronder zie je een voorbeeld van verschillende poorten zoals RS232 en GPIB aan de achterkant van een Tektronix TDS210 oscilloscoop. De VISA-standaard communiceert gelukkig ook via internet en USB, waarvan wij gebruik zullen maken.</p>
<p><img alt="Poorten op oscilloscoop" src="../figures/Digitaloszilloskop_Schnittstellen_IMGP1974_WP.jpg" />
Bron: <a href="https://commons.wikimedia.org/wiki/File:Digitaloszilloskop_Schnittstellen_IMGP1974_WP.jpg">Wikimedia Commons</a>.</p>
<p>Onderdeel van VISA is de SCPI standaard <sup id="fnref:SCPI"><a class="footnote-ref" href="#fn:SCPI">16</a></sup>, wat staat voor <em>Standard Commands for Programmable Instruments</em>. Dit onderdeel definieert een bepaald formaat voor commando's die we naar ons instrument zullen sturen. De lijst met commando's die door de firmware van onze Arduino worden ondersteund is gegeven in de <a href="../firmware/">appendix</a>.</p>
<h2 id="eerste-stappen">Eerste stappen<a class="headerlink" href="#eerste-stappen" title="Permanent link">&para;</a></h2>
<div class="admonition waarschuwing">
<p class="admonition-title">Waarschuwing</p>
<p>Let op dat je de weerstand van 220 &Omega;  gebruikt! Een te grote weerstand zorgt ervoor dat je nauwelijks iets kunt meten, maar een te kleine weerstand zorgt ervoor dat de stroomsterkte door de Arduino te groot wordt. In dat geval zul je de Arduino onherstelbaar beschadigen. De kleurcodes voor weerstanden vind je in de <a href="../kleurcodes/">appendix</a>.</p>
</div>
<div id="opd:schakeling"></div>
<div class="admonition opdracht-basis">
<p class="admonition-title">Schakeling bouwen</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">opdracht</label><label for="__tabbed_1_2">bouwtekening</label><label for="__tabbed_1_3">check</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Je maakt een schakeling om de spanning over en de stroom door een LED te meten. Hiervoor maak je gebruik van een Arduino en een breadboard. Om de stroomsterkte te beperken zet je de LED in serie met een weerstand van 220 &Omega;. Je sluit twee spanningsmeters aan. Spanningsmeter 1 staat over de LED en de weerstand samen. Spanningsmeter 2 staat alleen over de weerstand.</p>
</div>
<div class="tabbed-block">
<p><strong>Theoretische schakeling</strong></p>
<p>Het circuit zoals je dat zou bouwen met twee losse voltmeters is hieronder weergegeven. De subscripts 0, 1 en 2 bij $U_0$, $U_1$ en $U_2$ verwijzen naar de <em>kanalen</em> waarmee de Arduino spanningen kan sturen of uitlezen. Deze kanalen worden in de volgende opgaves belangrijk.</p>
<p><div id="fig:LED-schakeling"></div>
<img alt="LED schakelschema" src="../figures/LED-schakeling.svg" style="width:75%" /></p>
<p><strong>Praktische schakeling</strong></p>
<p>In het 3D-model<sup id="fnref:bronLED"><a class="footnote-ref" href="#fn:bronLED">5</a></sup> hieronder is een Arduino Nano 33 IoT op een 400-punt breadboard geschakeld met een LED en een weerstand van 220 &Omega;. In een breadboard zijn in iedere rij alle kolommen A t/m E met elkaar verbonden (zo ook kolommen F t/m J). Draadjes en/of componenten die naast elkaar zijn geprikt zijn dus met elkaar verbonden. De Arduino is geprikt in kolom D t/m H en van rij 1 t/m 15. De pin van de Arduino in rij 4 is verbonden middels het rode draadje met het pootje van de LED (de kleur van de draden is niet belangrijk, kies daarom altijd draden met een handige lengte). De platte zijde in de onderste ring van de LED wordt richting aarde geschakeld. Het ander pootje van de LED is verbonden met de weerstand. De kleurcodes voor weerstanden vind je in de <a href="../kleurcodes/">appendix</a>. Van de weerstand loopt een draadje naar de aarde van de Arduino (rij 12, kolom H). Met dit deel van de schakeling kan de Arduino een variabele spanning zetten over de LED en de weerstand. </p>
<p>De pin van de Arduino in rij 5 is verbonden met de LED en meet de spanning over de LED en de weerstand. De pin van de Arduino in rij 6 is verbonden met de weerstand en meet alleen de spanning over weerstand.</p>
<p><script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.5.0/model-viewer.min.js"></script>
<model-viewer id="model" style="width: 100%; height: 700px;" alt="Schakelschema LED" src="../assets/circuit/Breadboard_LED.glb" ar shadow-intensity="1" camera-controls touch-action="pan-y" poster="../assets/circuit/breadboard_led_top_view.png" camera-orbit="0rad 0.39269908169872414rad 4.718948223475571m" autoplay exposure="0.6"></model-viewer></p>
<div class="admonition info">
<p class="admonition-title">Besturing 3D-model</p>
<p>Door de linkermuisknop ingedrukt te houden en te slepen kan je het 3D-model draaien. Met de rechtermuisknop kan je het model verplaatsen en door te scrollen kan je in- en uitzoomen.</p>
</div>
</div>
<div class="tabbed-block">
<p><strong>Checkpunten</strong></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Je hebt een weerstand van 220 &Omega; gebruikt.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> De platte kant in de dikkere ring onderaan de plastic behuizing van de LED staat richting de aarde geschakeld. Als de pootjes van de LED niet afgeknipt zijn, dan zit het korte pootje aan de platte zijde van de LED.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> De andere kant van de LED is met een draadje verbonden met rij 4.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Er loopt een draadje van rij 5 naar de LED.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Er loopt een draadje van rij 6 naar de weerstand.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Er loopt een draadje van de andere kant van de weerstand naar rij 12 (naar het pinnetje met bovenop een wit vlakje).</li>
</ul>
<p><strong>Projecttraject</strong></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Schakeling bouwen</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> PyVISA in terminal</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> PyVISA commando's <code>list</code> en <code>open</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> PyVISA commando <code>query</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Terminator characters demo</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> PyVISA regeleindes</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> PyVISA LED laten branden</li>
</ul>
</div>
</div>
</div>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Voor de volgende opdrachten moet je uv <a href="https://docs.astral.sh/uv/getting-started/installation">geïnstalleerd</a> hebben. Hieronder staat het benodigde commando voor verschillende besturingssystemen. Kies het commando dat voor jou van toepassing is. Open een terminal en type het commando in (of kopieer door te klikken op het <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 21H8V7h11m0-2H8a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2m-3-4H4a2 2 0 0 0-2 2v14h2V3h12z"/></svg></span>-icoon).
<div class="language-ps1con highlight"><span class="filename">Terminal (Windows)</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="go">powershell -ExecutionPolicy ByPass -c &quot;irm https://astral.sh/uv/install.ps1 | iex&quot;</span>
</span></code></pre></div>
<div class="language-console highlight"><span class="filename">(macOS en Linux, optie 1)</span><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="go">curl -LsSf https://astral.sh/uv/install.sh | sh</span>
</span></code></pre></div>
<div class="language-console highlight"><span class="filename">(macOS en Linux, optie 2)</span><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="go">wget -qO- https://astral.sh/uv/install.sh | sh</span>
</span></code></pre></div>
<strong>Belangrijk:</strong> uv werkt nu alleen in <em>nieuw geopende</em> terminals. Sluit daarom de terminal die je open hebt staan en open een nieuwe terminal.</p>
</div>
<div id="opd:pyvisaterminal"></div>
<div class="admonition opdracht-basis">
<p class="admonition-title">PyVISA in terminal</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:3"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">opdracht</label><label for="__tabbed_2_2">code</label><label for="__tabbed_2_3">check</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Je sluit de Arduino met een USB-kabel aan op de computer. In een terminal open je een <code>pyvisa-shell</code> met een python <em>backend</em>. Het commando hiervoor is:
<div class="language-ps1con highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="go">uvx --from pyvisa --with pyvisa-py --with pyserial pyvisa-shell --backend py</span>
</span></code></pre></div>
Om erachter te komen hoe de <code>pyvisa-shell</code> werkt type je het commando <code>help</code>. Je ziet een reeks aan commando's en bekijkt de helptekst van de commando's waarmee je denkt de <code>pyvisa-shell</code> te kunnen afsluiten. Wanneer je dit commando hebt gevonden sluit je daarmee de <code>pyvisa-shell</code> af. </p>
</div>
<div class="tabbed-block">
<p><strong>Pseudo-code</strong>
<div class="language-ps1con highlight"><span class="filename">Terminal</span><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="go"># open pyvisa-shell with python backend</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="go"># check help of pyvisa-shell</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="go"># check help of exit command</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="go"># shut down the pyvisa-shell</span>
</span></code></pre></div>
<strong>Testcode</strong>
<pre><code>&gt; uvx --from pyvisa --with pyvisa-py --with pyserial pyvisa-shell --backend py <button type="button" name="pyvisa-shell" onclick="runScript('pyvisa-shell')"><svg class="enter" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path d="M21 10.5c0 4.14-3.36 7.5-7.5 7.5H11v4l-7-6l7-6v4h2.5c1.93 0 3.5-1.57 3.5-3.5V3h4z"/></svg></button><button type="button" name="pyvisa-shell" onclick="runScript('pyvisa-shell')" class="invisible"><svg class="reload" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H464c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z"/></svg></button>
<span class="invisible" name="pyvisa-shell">
Welcome to the VISA shell. Type help or ? to list commands.  <br />
(visa)
</span>
</code></pre></p>
<p><pre><code>(visa) help <button type="button" name="help" onclick="runScript('help')"><svg class="enter" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path d="M21 10.5c0 4.14-3.36 7.5-7.5 7.5H11v4l-7-6l7-6v4h2.5c1.93 0 3.5-1.57 3.5-3.5V3h4z"/></svg></button><button type="button" name="help" onclick="runScript('help')" class="invisible"><svg class="reload" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H464c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z"/></svg></button>
<span class="invisible" name="help">
Documented commands (type help <code>&lt;topic&gt;</code>):
========================================
EOF  attr  close  exit  help  list  open  query  read  termchar  timeout  write
</span>
</code></pre>   </p>
</div>
<div class="tabbed-block">
<p><strong>Checkpunten</strong></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Na het openen van een <code>pyvisa-shell</code> staat er op een nieuwe regel <code>(visa)</code>.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Als je <code>help</code> intypt verschijnt er een heel rijtje met commando's.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Als je <code>help exit</code> intypt krijg je de hulpvaardige tekst: <code>Exit the shell session.</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Als je de <code>pyvisa-shell</code> met een commando afsluit staat daarna de naam (visa) niet meer op de laatste regel.</li>
</ul>
<p><strong>Projecttraject</strong></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Schakeling bouwen</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> PyVISA in terminal</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> PyVISA commando's <code>list</code> en <code>open</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> PyVISA commando <code>query</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Terminator characters demo</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> PyVISA regeleindes</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> PyVISA LED laten branden</li>
</ul>
</div>
</div>
</div>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Je gebruikt <code>uvx</code> om Python packages te draaien zonder ze te installeren. Je start <code>pyvisa-shell</code>, die afkomstig is uit het package <code>pyvisa</code> (<code>--from pyvisa</code>). Je maakt hier gebruik van de optie <code>--backend py</code>, wat staat voor <em>gebruik backend: python</em>. Het kan namelijk dat er naast <code>pyvisa-py</code> ook andere <em>backends</em>, of <em>drivers</em>, geïnstalleerd staan op het systeem die de VISA-communicatie kunnen verzorgen. Als je bijvoorbeeld LabVIEW geïnstalleerd hebt, dan heb je de drivers van National Instruments. De verschillende backends geven de aangesloten apparaten andere namen. Ook ondersteunen niet alle drivers alle type apparaten en moet je ze apart downloaden en installeren. Daarom maken we liever gebruik van de beschikbare Python drivers. Je moet dan wel meegeven dat je dat package ook nodig hebt (<code>--with pyvisa-py</code>) en omdat de Arduino is aangesloten op een seriële kabel<sup id="fnref:USB"><a class="footnote-ref" href="#fn:USB">6</a></sup> heb je ook de PySerial package nodig (<code>--with pyserial</code>). Voluit wordt dan dus:
<div class="language-shell highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>uvx<span class="w"> </span>--from<span class="w"> </span>pyvisa<span class="w"> </span>--with<span class="w"> </span>pyvisa-py<span class="w"> </span>--with<span class="w"> </span>pyserial<span class="w"> </span>pyvisa-shell<span class="w"> </span>--backend<span class="w"> </span>py
</span></code></pre></div>
Dat dit aardig vervelend kan worden met intypen is waarschijnlijk wel duidelijk. Daarom ga je later, als je Pythoncode gaat schrijven, gebruik maken van <em>virtual environments</em>.</p>
</div>
<div class="admonition opdracht-basis">
<p class="admonition-title">PyVISA commando's <code>list</code> en <code>open</code></p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:3"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><input id="__tabbed_3_3" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">opdracht</label><label for="__tabbed_3_2">code</label><label for="__tabbed_3_3">check</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Je bekijkt het lijstje met aangesloten apparaten door in de <code>pyvisa-shell</code> het commando <code>list</code> te typen. Je haalt de USB-kabel waarmee de Arduino aan de computer is aangesloten uit de computer en vraagt nogmaals de lijst met aangesloten apparaten op. Nu weet je welke poort de Arduino is. Je bekijkt daarna de helptekst van het commando <code>open</code>, waarna je de communicatie met de Arduino opent.</p>
</div>
<div class="tabbed-block">
<p><strong>Pseudo-code</strong>
<div class="language-ps1con highlight"><span class="filename">Terminal</span><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="go"># open pyvisa-shell with python backend</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="go"># check list of connected devices</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="go"># check help of open command</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="go"># open Arduino</span>
</span></code></pre></div>
<strong>Testcode</strong>
<pre><code>(visa) list <button type="button" name="list" onclick="runScript('list')"><svg class="enter" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path d="M21 10.5c0 4.14-3.36 7.5-7.5 7.5H11v4l-7-6l7-6v4h2.5c1.93 0 3.5-1.57 3.5-3.5V3h4z"/></svg></button><button type="button" name="list" onclick="runScript('list')" class="invisible"><svg class="reload" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H464c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z"/></svg></button>
<span class="invisible" name="list">( 0) ASRL3::INSTR
( 1) ASRL5::INSTR
( 2) ASRL28::INSTR</span>
</code></pre></p>
<p><pre><code>(visa) help open <button type="button" name="help open" onclick="runScript('help open')"><svg class="enter" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path d="M21 10.5c0 4.14-3.36 7.5-7.5 7.5H11v4l-7-6l7-6v4h2.5c1.93 0 3.5-1.57 3.5-3.5V3h4z"/></svg></button><button type="button" name="help open" onclick="runScript('help open')" class="invisible"><svg class="reload" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H464c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z"/></svg></button>
<span class="invisible" name="help open">Open resource by number, resource name or alias: open 3</span>
</code></pre>    </p>
</div>
<div class="tabbed-block">
<p><strong>Checkpunten</strong></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Na het commando <code>list</code> verschijnt er een lijst met een of meerdere apparaten.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Als de Arduino niet op de computer is aangesloten is er een apparaat uit het lijstje verdwenen. </li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Als je de Arduino opent verschijnt de tekst: </li>
</ul>
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>ASRL?::INSTR has been opened.
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>You can talk to the device using &quot;write&quot;, &quot;read&quot; or &quot;query&quot;.
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>The default end of message is added to each message.
</span></code></pre></div>
<p><strong>Projecttraject</strong></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Schakeling bouwen</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> PyVISA in terminal</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> PyVISA commando's <code>list</code> en <code>open</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> PyVISA commando <code>query</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Terminator characters demo</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> PyVISA regeleindes</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> PyVISA LED laten branden</li>
</ul>
</div>
</div>
</div>
</div>
<div id="opd:pyvisa_query"></div>
<div class="admonition opdracht-basis">
<p class="admonition-title">PyVISA commando <code>query</code></p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:3"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><input id="__tabbed_4_3" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">opdracht</label><label for="__tabbed_4_2">code</label><label for="__tabbed_4_3">check</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Je stuurt een commando naar de Arduino met <code>query COMMANDO</code>. In de <a href="../firmware/">documentatie van de firmware</a> heb je het commando opgezocht om de identificatiestring uit te lezen. Nadat je dit commando naar de Arduino stuurt krijg je een error. Je leest rustig verder in het hoofdstuk om erachter te komen hoe je dit moet oplossen.</p>
</div>
<div class="tabbed-block">
<p><strong>Pseudo-code</strong>
<div class="language-ps1con highlight"><span class="filename">Terminal</span><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="go"># send query to get identification string </span>
</span></code></pre></div>
<strong>Testcode</strong>
<pre><code>(open) query gappie <button type="button" name="query gappie" onclick="runScript('query gappie')"><svg class="enter" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path d="M21 10.5c0 4.14-3.36 7.5-7.5 7.5H11v4l-7-6l7-6v4h2.5c1.93 0 3.5-1.57 3.5-3.5V3h4z"/></svg></button><button type="button" name="query gappie" onclick="runScript('query gappie')" class="invisible"><svg class="reload" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H464c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z"/></svg></button>
<span class="invisible" name="query gappie">Response: ERROR: UNKNOWN COMMAND gappie</span>
</code></pre>        </p>
</div>
<div class="tabbed-block">
<p><strong>Checkpunten</strong></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Je hebt het woord <code>query</code> goed geschreven en met kleine letters.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Na het commando <code>query</code> volgt een spatie.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Na de spatie staat het volledige commando om de identificatiestring uit te lezen, in hoofdletters (dus met <code>*</code> en <code>?</code>, want deze horen er ook bij!).</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Als je het commando verstuurt, verschijnt er de error:
<div class="language-text highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>Response: ERROR: UNKNOWN COMMAND .....
</span></code></pre></div></li>
</ul>
<p><strong>Projecttraject</strong></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Schakeling bouwen</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> PyVISA in terminal</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> PyVISA commando's <code>list</code> en <code>open</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> PyVISA commando <code>query</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Terminator characters demo</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> PyVISA regeleindes</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> PyVISA LED laten branden</li>
</ul>
</div>
</div>
</div>
</div>
<p>Een error, niet helemaal wat je had gehoopt! Als je goed kijkt in de <a href="../firmware/">documentatie van de firmware</a> dan zie je dat er bepaalde <em>terminator characters</em> (regeleindes) nodig zijn. Dit zijn karakters die gebruikt worden om het einde van een commando te markeren. Het is, zogezegd, een <q>enter</q> aan het eind van een zin. Dit mag je heel letterlijk nemen. Oude printers voor computeruitvoer gebruikten een <em>carriage return</em> (CR) om de wagen met papier (typemachine) of de printerkop weer aan het begin van een regel te plaatsen en een <em>line feed</em> (LF) om het papier een regel verder te schuiven. Nog steeds is het zo dat in tekstbestanden deze karakters gebruikt worden om een nieuwe regel aan te geven. </p>
<div class="admonition info">
<p class="admonition-title">Carriage return line feed: typewriter demonstration</p>
<p><iframe title="Carriage Return Line Feed: Typewriter Demonstration" src="https://drive.google.com/file/d/16jcQcI2o8i3dh3z7TLnK1Qb9OLnF5g20/preview" width="540" height="304" style="border:none;"></iframe></p>
</div>
<p>Jammer maar helaas, verschillende besturingssystemen hebben verschillende conventies. Windows gebruikt nog steeds allebei: een combinatie van <em>carriage return + line feed</em> (CRLF). Maar MacOS/Linux/Unix gebruiken enkel een <em>line feed</em> (LF), want hoeveel meer heb je nodig? Af en toe is dat lastig, vooral wanneer er elektronica in het spel is want dan willen de regeleindes voor schrijven en lezen nog wel eens verschillend zijn.<sup id="fnref:regeleindes"><a class="footnote-ref" href="#fn:regeleindes">7</a></sup></p>
<div class="admonition opdracht-basis">
<p class="admonition-title">Terminator characters demo</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:2"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">opdracht</label><label for="__tabbed_5_2">check</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Je vraagt je misschien af wat het betekent dat er bij het schrijven en lezen regeleindes gebruikt worden. Daarom open je de <em>Termination Character Demo</em> door een nieuwe terminal te starten en in te typen:
<div class="language-shell highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>uvx<span class="w"> </span>termchar-demo
</span></code></pre></div>
Je gaat naar de <em>Basic</em> tab, daar zie je inputvelden voor de client (dat ben jij) en de server (dat is de Arduino).</p>
<p>Je schrijft een commando <code>measure_voltage</code> naar de Arduino (druk op <em>Write</em>). In het <em>Input</em> veld van de Arduino verschijnt jouw commando, maar het staat nog niet in de <em>Application Log</em> van de Arduino. Het commando is dus nog niet door de Arduino verwerkt. Dit komt doordat de <em>Read Termination Characters</em> van de Arduino <code>\n</code>(LF) zijn, die gaat dus pas lezen als die tekens zijn verstuurd. Je verstuurt <code>\n</code> en ziet dat het commando wordt verwerkt en je een antwoord krijgt. </p>
<p>Steeds <code>\n</code> handmatig versturen is onhandig daarom voer je bij de Client als <em>Write Termination Characters</em> <code>\n</code> in. Je verstuurt nog een commando <code>measure_current</code>, drukt op <em>Write</em> en ziet dat het bericht direct door de Arduino wordt verwerkt en dat je een antwoord krijgt. </p>
<p>In het <em>Input</em> veld van de Client staan twee antwoorden van de Arduino, als je nu op <em>Read</em> drukt blijven de termination characters in de antwoorden staan en moet je ze handmatig uit elkaar gaan halen. Dat is niet handig, daarom vul je bij de <em>Read Termination Characters</em> van de Client <code>\r\n</code>(CRLF) in. Daarna druk je op <em>Read</em> en merk je dat de twee antwoorden apart uitgelezen worden, super handig!</p>
</div>
<div class="tabbed-block">
<p><strong>Checkpunten</strong></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> De Client <em>Write Termination Characters</em> is ingesteld op <code>\n</code>.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> De Client <em>Read Termination Characters</em> is ingesteld op <code>\r\n</code>.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Bij het versturen van een bericht naar de server wordt deze verwerkt en krijgt de client een antwoord terug.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Bij het lezen van het antwoord door de client komen geen termination characters in de <em>Application Log</em> te staan.</li>
</ul>
<p><strong>Projecttraject</strong></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Schakeling bouwen</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> PyVISA in terminal</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> PyVISA commando's <code>list</code> en <code>open</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> PyVISA commando <code>query</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Terminator characters demo</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> PyVISA regeleindes</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> PyVISA LED laten branden</li>
</ul>
</div>
</div>
</div>
</div>
<details class="opdracht-meer" open="open">
<summary>Terminator characters demo: input buffer en timeout</summary>
<p>Ga opnieuw naar de Termination Character Demo en lees de laatste stappen van de <em>Introduction</em> tab. Open de <em>Advanced</em> tab en voer de stappen uit. </p>
</details>
<p><img alt="Klik hier" data-message="Pssst met '↑' (pijltje omhoog) kun je in een terminal de vorige commando's terughalen. Probeer maar eens!" id="easterEggImage" src="../assets/eastereggs/ECPC-silver.svg" style="width:1.5%" /> Je gaat nu de regeleindes instellen in PyVISA:</p>
<div class="admonition opdracht-basis">
<p class="admonition-title">PyVISA regeleindes</p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:3"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><input id="__tabbed_6_3" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">opdracht</label><label for="__tabbed_6_2">code</label><label for="__tabbed_6_3">check</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Je gaat weer terug naar de terminal, en opent een pyvisa-shell. Je gebruikt het commando <code>termchar</code> om de regeleindes in te stellen. Om erachter te komen hoe je deze moet instellen vraag je de helptekst op met <code>help termchar</code>. Je vraagt eerst de huidige instellingen van de regeleindes op en ziet dat deze niet goed staan. Daarna stel je de read in op CRLF en de write op LF. Je bekijkt nog een keer de instellingen om te controleren of de regeleindes nu wel goed staan. Je gaat terug naar de <a href="#opd:pyvisa_query">opdracht PyVISA commando <code>query</code></a> en krijgt een response in plaats van een error. </p>
<div class="admonition info">
<p class="admonition-title">\r\n en CRLF</p>
<p>Bij de <em>Termination characters demo</em> maakte je gebruik van <code>\r\n</code>, dat is de programmeertaal equivalent van <code>CRLF</code>.</p>
</div>
</div>
<div class="tabbed-block">
<p><strong>Pseudo-code</strong>
<div class="language-ps1con highlight"><span class="filename">Terminal</span><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="go"># get help of termchar command</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="go"># check current termchar settings</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="go"># adjust termchar settings in read = CRLF and write = LF</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="go"># check new termchar settings</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="go"># send query to get identification string</span>
</span></code></pre></div>
<strong>Testcode</strong>
<pre><code>(open) help termchar <button type="button" name="help termchar" onclick="runScript('help termchar')"><svg class="enter" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path d="M21 10.5c0 4.14-3.36 7.5-7.5 7.5H11v4l-7-6l7-6v4h2.5c1.93 0 3.5-1.57 3.5-3.5V3h4z"/></svg></button><button type="button" name="help termchar" onclick="runScript('help termchar')" class="invisible"><svg class="reload" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H464c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z"/></svg></button>
<span class="invisible" name="help termchar">Get or set termination character for resource in use.
<code>&lt;termchar&gt;</code> can be one of: CR, LF, CRLF, NUL or None.
None is used to disable termination character
Get termination character:
    termchar
Set termination character read or read+write:
    termchar <code>&lt;termchar&gt;</code> [<code>&lt;termchar&gt;</code>]</span>
</code></pre></p>
</div>
<div class="tabbed-block">
<p><strong>Checkpunten</strong></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> De regeleindes zijn ingesteld met het commando <code>termchar</code>. Na dit commando volgt een spatie. Daarachter volgen de karakters voor de read termchar, opnieuw gevolgd door een spatie met daarachter de karakters voor de write termchar. </li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> De <em>read</em> regeleinde staat ingesteld op CRLF.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> De <em>write</em> regeleind staat ingesteld op LF.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Als je met het commando <code>termchar</code> de instellingen van de regeleindes opvraagt, staat er:
<div class="language-text highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>Termchar read: CRLF write: LF
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>use CR, LF, CRLF, NUL or None to set termchar
</span></code></pre></div></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Als je het commando <code>query</code> verstuurt om de identificatiestring uit te lezen, verschijnt er:<br />
<div class="language-text highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>Response: Arduino VISA firmware v1.1.0
</span></code></pre></div></li>
</ul>
<p><strong>Projecttraject</strong></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Schakeling bouwen</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> PyVISA in terminal</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> PyVISA commando's <code>list</code> en <code>open</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> PyVISA commando <code>query</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Terminator characters demo</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> PyVISA regeleindes</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> PyVISA LED laten branden</li>
</ul>
</div>
</div>
</div>
</div>
<div class="admonition info">
<p class="admonition-title">Onzichtbare regeleindes</p>
<p>Omdat de Arduino nu weet wanneer het commando voorbij is (door de LF aan het eind van de <q>zin</q>), krijg je antwoord! Dat antwoord heeft dan juist weer een CRLF aan het einde, dus <code>pyvisa-shell</code> weet wanneer het kan stoppen met luisteren en print het antwoord op het scherm. De karakters CRLF en LF <em>zelf</em> blijven onzichtbaar voor ons.</p>
</div>
<div class="admonition opdracht-basis">
<p class="admonition-title">PyVISA LED laten branden</p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:3"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><input id="__tabbed_7_3" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">opdracht</label><label for="__tabbed_7_2">code</label><label for="__tabbed_7_3">check</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Je zoekt in de <a href="../firmware/">documentatie van de firmware</a> op hoe je een spanning op het uitvoerkanaal zet. Je leest dat er een maximale waarde is voor de spanning en zet deze waarde op het uitvoerkanaal. Je ziet dat de LED brandt en er verschijnt een glimlach op je gezicht. </p>
<p>Je bent benieuwd naar wat er gebeurt als je over de maximale spanning heen gaat en zet de maximale waarde + 1 op het uitvoerkanaal. Je denkt na over een verklaring voor wat je ziet gebeuren. </p>
<p>Je weet dat een LED een drempelspanning nodig heeft om te branden. Je vult een paar waardes in tussen de minimale en maximale waarde om erachter te komen wat deze drempelspanning is. </p>
</div>
<div class="tabbed-block">
<p><strong>Pseudo-code</strong>
<div class="language-ps1con highlight"><span class="filename">Terminal</span><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="go"># set maximum voltage</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="go"># set maximum voltage + 1</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="go"># set threshold voltage</span>
</span></code></pre></div>
<strong>Testcode</strong>    <br />
Zie <a href="../firmware/">documentatie van de firmware</a>.  </p>
</div>
<div class="tabbed-block">
<p><strong>Checkpunten</strong></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Je stuurt een commando naar de Arduino met behulp van het commando <code>query</code>.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Je hebt woord <code>query</code> goed geschreven en met kleine letters.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Je hebt het commando om een spanning op het uitvoerkanaal te zetten geschreven met hoofdletters.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Je zet een spanning op uitvoerkanaal <code>0</code>.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Achter het kanaalnummer staat een spatie.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Na de spatie staat een geheel getal tussen 0 en 1023.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Als je de waarde 828 naar uitvoerkanaal 0 stuurt gaat de LED branden.</li>
</ul>
<p><strong>Projecttraject</strong></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Schakeling bouwen</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> PyVISA in terminal</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> PyVISA commando's <code>list</code> en <code>open</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> PyVISA commando <code>query</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Terminator characters demo</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> PyVISA regeleindes</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> PyVISA LED laten branden</li>
</ul>
</div>
</div>
</div>
</div>
<h2 id="een-eenvoudig-script">Een eenvoudig script<a class="headerlink" href="#een-eenvoudig-script" title="Permanent link">&para;</a></h2>
<p>Je hebt via de shell contact gelegd met de hardware. Nu wordt het tijd om, met de documentatie<sup id="fnref:pyvisa"><a class="footnote-ref" href="#fn:pyvisa">17</a></sup> in de aanslag, hetzelfde vanuit Python te doen. Als je met een nieuw project begint is het helemaal geen gek idee om een kort script te schrijven waarin je wat dingen uitprobeert. Als alles lijkt te werken kun je het netjes gaan maken en gaan uitbreiden. We beginnen hier met een eenvoudig script en zullen dat daarna gaan verfijnen.</p>
<p>We lopen het voorbeeldscript eerst regel voor regel door en geven het volledige script aan het eind. Je hoeft nu dus alleen maar te lezen en nog geen code uit te voeren. Allereerst importeer je de <code>pyvisa</code>-bibliotheek met:
<div class="language-py highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">pyvisa</span>
</span></code></pre></div>
Binnen PyVISA wordt alles geregeld met behulp van een <em>Resource Manager</em>. Die krijg je met:
<div class="language-py highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="n">rm</span> <span class="o">=</span> <span class="n">pyvisa</span><span class="o">.</span><span class="n">ResourceManager</span><span class="p">(</span><span class="s2">&quot;@py&quot;</span><span class="p">)</span>
</span></code></pre></div>
Die kun je bijvoorbeeld gebruiken om een lijst van alle beschikbare poorten te krijgen:
<div class="language-py highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="n">ports</span> <span class="o">=</span> <span class="n">rm</span><span class="o">.</span><span class="n">list_resources</span><span class="p">()</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="c1"># Bijvoorbeeld: (&quot;ASRL28::INSTR&quot;,)</span>
</span></code></pre></div>
Om nu daadwerkelijk verbinding te gaan maken met de Arduino moet je die <em>openen</em>. Daarvoor geef je de poortnaam op en vertel je meteen wat de instellingen moeten zijn voor de regeleindes bij het lezen (CRLF, <code class="language-py highlight"><span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span></code>) en bij het schrijven (LF, <code class="language-py highlight"><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span></code>):
<div class="language-py highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="n">device</span> <span class="o">=</span> <span class="n">rm</span><span class="o">.</span><span class="n">open_resource</span><span class="p">(</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>    <span class="s2">&quot;ASRL28::INSTR&quot;</span><span class="p">,</span> <span class="n">read_termination</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">write_termination</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="p">)</span>
</span></code></pre></div>
Tenslotte stuur je een query naar de Arduino:
<div class="language-py highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="n">device</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;*IDN?&quot;</span><span class="p">)</span>
</span></code></pre></div>
Het volledige script &mdash; met een paar <code class="language-py highlight"><span class="nb">print</span></code>-statements &mdash; ziet er dan als volgt uit (bekijk de code, druk op de runknop linksboven de code, maar type het nog niet in):</p>
<div class="code-box"><button type="button" name="test_arduino" onclick="runScript('test_arduino')" class="run"><svg class="run" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg></button><button type="button" name="test_arduino" onclick="runScript('test_arduino')" class="reload invisible"><svg class="reload" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H464c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z"/></svg></button> test_arduino.py
<div class="language-py highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">pyvisa</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="n">rm</span> <span class="o">=</span> <span class="n">pyvisa</span><span class="o">.</span><span class="n">ResourceManager</span><span class="p">(</span><span class="s2">&quot;@py&quot;</span><span class="p">)</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="n">ports</span> <span class="o">=</span> <span class="n">rm</span><span class="o">.</span><span class="n">list_resources</span><span class="p">()</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="nb">print</span><span class="p">(</span><span class="n">ports</span><span class="p">)</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="n">device</span> <span class="o">=</span> <span class="n">rm</span><span class="o">.</span><span class="n">open_resource</span><span class="p">(</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a>    <span class="s2">&quot;ASRL28::INSTR&quot;</span><span class="p">,</span> <span class="n">read_termination</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">write_termination</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="p">)</span>
</span><span id="__span-20-10"><a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="n">identification</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;*IDN?&quot;</span><span class="p">)</span>
</span><span id="__span-20-11"><a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a><span class="nb">print</span><span class="p">(</span><span class="n">identification</span><span class="p">)</span>
</span></code></pre></div>
<pre>
<code>(ECPC) > python test_arduino.py
<span class="invisible" name="test_arduino">('ASRL28::INSTR',)
Arduino VISA firmware v1.1.0</span>
</code></pre></div>

<p>De output van het script is afhankelijk van het systeem en het aantal apparaten dat verbonden is.</p>
<div class="admonition opdracht-basis">
<p class="admonition-title">Vergelijk script met <code>pyvisa-shell</code></p>
<div class="tabbed-set tabbed-alternate" data-tabs="8:2"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><input id="__tabbed_8_2" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="__tabbed_8_1">opdracht</label><label for="__tabbed_8_2">check</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Met bovenstaande code heb je precies hetzelfde gedaan in Python als in de <code>pyvisa-shell</code>. Vergelijk de verschillende stappen hieronder met elkaar door met de muis over de tekst heen te gaan.</p>
</div>
<div class="tabbed-block">
<p><strong>Projecttraject</strong></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Vergelijk script met <code>pyvisa-shell</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Pythonscript aanmaken</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Virtual environment aanmaken</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> PyVISA in Pythonscript</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> LED laten branden</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> flashingLED</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Account aanmaken</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> GitHub Desktop installeren</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Van bestaande map repository maken</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Commit </li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Push en pull</li>
</ul>
</div>
</div>
</div>
</div>
<div class="container" style="overflow:hidden">
    <div style="width: 55%; float: left;">
        <pre>
<code><span><span id="shell_pyvisa" class="comparison"><span onmouseover="hoverFunction('shell_pyvisa')" onmouseout="hoverFunction('shell_pyvisa')">PS> pyvisa-shell </span><span onmouseover="hoverFunction('shell_backend')" onmouseout="hoverFunction('shell_backend')"><span id="shell_backend" class="comparison">--backend py</span></span><span onmouseover="hoverFunction('shell_pyvisa')" onmouseout="hoverFunction('shell_pyvisa')">

Welcome to the VISA shell. Type help or ? to list commands.</span></span></span>

<span onmouseover="hoverFunction('shell_list')" onmouseout="hoverFunction('shell_list')"><span id="shell_list" class="comparison">(visa) list</span></span>
<span onmouseover="hoverFunction('shell_printlist')" onmouseout="hoverFunction('shell_printlist')"><span class="comparison" id="shell_printlist">( 0) ASRL3::INSTR
( 1) ASRL5::INSTR
( 2) ASRL28::INSTR</span></span>
<span><span class="comparison" id="shell_open"><span class="comparison" id="shell_onlyopen"><span onmouseover="hoverFunction('shell_onlyopen')" onmouseout="hoverFunction('shell_onlyopen')">(visa) </span><span onmouseover="hoverFunction('shell_opencommand')" onmouseout="hoverFunction('shell_opencommand')"><span id="shell_opencommand" class="comparison">open</span></span> <span onmouseover="hoverFunction('shell_openname')" onmouseout="hoverFunction('shell_openname')"><span id="shell_openname" class="comparison">2</span></span>
<span onmouseover="hoverFunction('shell_onlyopen')" onmouseout="hoverFunction('shell_onlyopen')">ASRL28::INSTR has been opened.
You can talk to the device using "write", "read" or "query".
The default end of message is added to each message.</span></span>
<span><span class="comparison" id="shell_termchar"><span onmouseover="hoverFunction('shell_termchar')" onmouseout="hoverFunction('shell_termchar')">(open) termchar</span> <span onmouseover="hoverFunction('shell_CRLF')" onmouseout="hoverFunction('shell_CRLF')"><span class="comparison" id="shell_CRLF">CRLF</span></span> <span onmouseover="hoverFunction('shell_LF')" onmouseout="hoverFunction('shell_LF')"><span class="comparison" id="shell_LF">LF</span></span>
<span onmouseover="hoverFunction('shell_termchar')" onmouseout="hoverFunction('shell_termchar')">Done</span></span></span></span></span>
<span><span class="comparison" id="shell_idn"><span onmouseover="hoverFunction('shell_idn')" onmouseout="hoverFunction('shell_idn')">(open) </span><span onmouseover="hoverFunction('shell_query')" onmouseout="hoverFunction('shell_query')"><span id="shell_query" class="comparison">query</span></span> <span onmouseover="hoverFunction('shell_*IDN?')" onmouseout="hoverFunction('shell_*IDN?')"><span id="shell_*IDN?" class="comparison">*IDN?</span></span></span></span></span>
<span onmouseover="hoverFunction('shell_printidn')" onmouseout="hoverFunction('shell_printidn')"><span class="comparison" id="shell_printidn">Response: Arduino VISA firmware v1.1.0</span></span>
</code></pre>
    </div>

    <div style="width: 40%; float: right;">
        <pre>
<code><span><span id="python_pyvisa" class="comparison"><span onmouseover="hoverFunction('python_pyvisa')" onmouseout="hoverFunction('python_pyvisa')"><span style="color: var(--md-code-hl-keyword-color);">import</span> <span style="color: var(--md-code-hl-function-color);">pyvisa</span>

rm = pyvisa.ResourceManager(</span><span onmouseover="hoverFunction('python_backend')" onmouseout="hoverFunction('python_backend')"><span id="python_backend" class="comparison"><span style="color: var(--md-code-hl-string-color);">"@py"</span></span></span><span onmouseover="hoverFunction('python_pyvisa')" onmouseout="hoverFunction('python_pyvisa')">)</span></span>
<span onmouseover="hoverFunction('python_list')" onmouseout="hoverFunction('python_list')"><span class="comparison" id="python_list">ports = rm.list_resources()</span></span>
<span onmouseover="hoverFunction('python_printlist')" onmouseout="hoverFunction('python_printlist')"><span class="comparison" id="python_printlist"><span style="color: var(--md-code-hl-constant-color);">print</span>(ports)</span></span></span>

<span><span class="comparison" id="python_open"><span onmouseover="hoverFunction('python_open')" onmouseout="hoverFunction('python_open')">device = </span><span><span id="python_onlyopen" class="comparison"><span onmouseover="hoverFunction('python_opencommand')" onmouseout="hoverFunction('python_opencommand')"><span id="python_opencommand" class="comparison">rm.open_resource</span></span>(
    <span onmouseover="hoverFunction('python_openname')" onmouseout="hoverFunction('python_openname')"><span id="python_openname" class="comparison"><span style="color: var(--md-code-hl-string-color);">"ASRL28::INSTR"</span></span></span></span></span>, 
    <span><span class="comparison" id="python_termchar"><span onmouseover="hoverFunction('python_termchar')" onmouseout="hoverFunction('python_termchar')">read_termination=</span><span onmouseover="hoverFunction('python_CRLF')" onmouseout="hoverFunction('python_CRLF')"><span class="comparison" id="python_CRLF"><span style="color: var(--md-code-hl-string-color);">"<span style="color: var(--md-code-hl-special-color);">\r\n</span>"</span></span></span><span onmouseover="hoverFunction('python_termchar')" onmouseout="hoverFunction('python_termchar')">, 
    write_termination=</span><span onmouseover="hoverFunction('python_LF')" onmouseout="hoverFunction('python_LF')"><span class="comparison" id="python_LF"><span style="color: var(--md-code-hl-string-color);">"<span style="color: var(--md-code-hl-special-color);">\n</span>"</span></span></span></span></span>
)</span></span>
<span><span class="comparison" id="python_idn"><span onmouseover="hoverFunction('python_idn')" onmouseout="hoverFunction('python_idn')">identification = device.</span><span onmouseover="hoverFunction('python_query')" onmouseout="hoverFunction('python_query')"><span id="python_query" class="comparison">query</span></span>(<span onmouseover="hoverFunction('python_*IDN?')" onmouseout="hoverFunction('python_*IDN?')"><span id="python_*IDN?" class="comparison"><span style="color: var(--md-code-hl-string-color);">"*IDN?"</span></span></span><span onmouseover="hoverFunction('python_idn')" onmouseout="hoverFunction('python_idn')">)</span></span></span></span>
<span onmouseover="hoverFunction('python_printidn')" onmouseout="hoverFunction('python_printidn')"><span class="comparison" id="python_printidn"><span style="color: var(--md-code-hl-constant-color);">print</span>(identification)</span></span></code></pre>
    </div>

</div>

<div class="admonition opdracht-basis">
<p class="admonition-title">Pythonscript aanmaken</p>
<div class="tabbed-set tabbed-alternate" data-tabs="9:2"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio" /><input id="__tabbed_9_2" name="__tabbed_9" type="radio" /><div class="tabbed-labels"><label for="__tabbed_9_1">opdracht</label><label for="__tabbed_9_2">check</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><div class="grid-tree" markdown>
    <div>
    Je gaat de gegeven Pythoncode testen. Hiervoor open je in Visual Studio Code de map <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 96c0-35.3 28.7-64 64-64h132.1c19.1 0 37.4 7.6 50.9 21.1L289.9 96H448c35.3 0 64 28.7 64 64v256c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64zm64-16c-8.8 0-16 7.2-16 16v320c0 8.8 7.2 16 16 16h384c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16H286.6c-10.6 0-20.8-4.2-28.3-11.7L213.1 87c-4.5-4.5-10.6-7-17-7z"/></svg></span><code>ECPC</code> en maak je een bestand <span style="color: green;"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16h160v80c0 17.7 14.3 32 32 32h80v288c0 8.8-7.2 16-16 16zM64 0C28.7 0 0 28.7 0 64v384c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3l-90.6-90.5C262.7 6.7 246.5 0 229.5 0zm97 289c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0L79 303c-9.4 9.4-9.4 24.6 0 33.9l48 48c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-31-31 31-31zm96-34c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l31 31-31 31c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l48-48c9.4-9.4 9.4-24.6 0-33.9l-48-48z"/></svg></span></span><code>test_arduino.py</code> aan. Je kopieert de gegeven Pythoncode in dit bestand. Je ziet dat Visual Studio Code rechtsonder aangeeft dat je nog geen virtual environment hebt geselecteerd (de bruinige waarschuwing <em>Select Interpreter</em>). Je moet dus nog een virtual environment aanmaken. Ga daarvoor verder met de volgende opdracht.
    </div>
    <div>
    <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 96c0-35.3 28.7-64 64-64h132.1c19.1 0 37.4 7.6 50.9 21.1L289.9 96H448c35.3 0 64 28.7 64 64v256c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64zm64-16c-8.8 0-16 7.2-16 16v320c0 8.8 7.2 16 16 16h384c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16H286.6c-10.6 0-20.8-4.2-28.3-11.7L213.1 87c-4.5-4.5-10.6-7-17-7z"/></svg></span><code>ECPC</code><br />
    ├──<span style="color: green;"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16h160v80c0 17.7 14.3 32 32 32h80v288c0 8.8-7.2 16-16 16zM64 0C28.7 0 0 28.7 0 64v384c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3l-90.6-90.5C262.7 6.7 246.5 0 229.5 0zm97 289c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0L79 303c-9.4 9.4-9.4 24.6 0 33.9l48 48c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-31-31 31-31zm96-34c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l31 31-31 31c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l48-48c9.4-9.4 9.4-24.6 0-33.9l-48-48z"/></svg></span></span><code>test_arduino.py</code><br />
    └──&bull;&bull;&bull;<br />
    </div>
</div></p>
</div>
<div class="tabbed-block">
<p><strong>Projecttraject</strong></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Vergelijk script met <code>pyvisa-shell</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Pythonscript aanmaken</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Virtual environment aanmaken</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> PyVISA in Pythonscript</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> LED laten branden</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> flashingLED</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Account aanmaken</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> GitHub Desktop installeren</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Van bestaande map repository maken</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Commit </li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Push en pull</li>
</ul>
</div>
</div>
</div>
</div>
<div id="opd:venv"></div>
<div class="admonition opdracht-basis">
<p class="admonition-title">Virtual environment aanmaken</p>
<div class="tabbed-set tabbed-alternate" data-tabs="10:2"><input checked="checked" id="__tabbed_10_1" name="__tabbed_10" type="radio" /><input id="__tabbed_10_2" name="__tabbed_10" type="radio" /><div class="tabbed-labels"><label for="__tabbed_10_1">opdracht</label><label for="__tabbed_10_2">check</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Open een terminal in je Visual Studio Code-omgeving (<strong>Menu &gt; Terminal &gt; New Terminal</strong>). Maak de virtual environment aan met:
<div class="language-ps1con highlight"><span class="filename">Terminal</span><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="go">uv venv --python 3.13</span>
</span></code></pre></div>
Met <code>--python 3.13</code> geef je aan: gebruik Pythonversie 3.13 (released in 2024). Je mag dat weglaten en dan kiest uv op basis van Pythonversies die je al geïnstalleerd hebt staan, maar als je een te oude versie gebruikt werken sommige dingen misschien niet.</p>
<p>Om een virtual environment daadwerkelijk te gebruiken kun je die <em>activeren</em>. Dat kun je doen door in de pop-up "We've noticed that..." te kiezen voor "Yes", of door rechtsonderin op <em>Select Interpreter</em> te klikken en dan te kiezen voor de omgeving (Python 3.13.x (ECPC) <code>.\.venv\Scripts\python.exe</code>):</p>
<p><img alt="Screenshot van popup om nieuw virtual environment te selecteren" src="../figures/screenshot-new-venv-popup.png" style="width:475px" /></p>
<p>Deze opties verschijnen als je een Pythonbestand open hebt staan. Na selecteren <strong>moet</strong> je de terminal sluiten (type <code>exit</code> of klik op het prullenbakje) en een nieuwe terminal openen. Als de terminal goed geactiveerd is staat er nu <code>(ECPC)</code> aan het begin van de prompt (opdrachtregel waar je je commando's intypt).</p>
<p>Installeer de benodigde packages met:
<div class="language-ps1con highlight"><span class="filename">Terminal</span><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="go">uv pip install pyvisa pyvisa-py pyserial</span>
</span></code></pre></div></p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Als je op Windows werkt, kun je bij het openen van een nieuwe terminal de volgende foutmelding krijgen:
<div class="language-ps1 highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="nb">PS </span><span class="n">C</span><span class="p">:\</span><span class="n">Users</span><span class="p">\</span><span class="n">David</span><span class="p">\</span><span class="n">Documents</span><span class="p">\</span><span class="n">ECPC</span><span class="p">&gt;</span> <span class="p">&amp;</span> <span class="n">C</span><span class="p">:/</span><span class="n">Users</span><span class="p">/</span><span class="n">David</span><span class="p">/</span><span class="n">Documents</span><span class="p">/</span><span class="n">ECPC</span><span class="p">/.</span><span class="n">venv</span><span class="p">/</span><span class="n">Scripts</span><span class="p">/</span><span class="n">Activate</span><span class="p">.</span><span class="n">ps1</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="p">&amp;</span> <span class="p">:</span> <span class="n">File</span> <span class="n">C</span><span class="p">:\</span><span class="n">Users</span><span class="p">\</span><span class="n">David</span><span class="p">\</span><span class="n">Documents</span><span class="p">\</span><span class="n">ECPC</span><span class="p">\.</span><span class="n">venv</span><span class="p">\</span><span class="n">Scripts</span><span class="p">\</span><span class="n">Activate</span><span class="p">.</span><span class="n">ps1con</span> <span class="n">cannot</span> <span class="n">be</span> <span class="n">loaded</span> 
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="n">because</span> <span class="n">running</span> <span class="n">scripts</span> <span class="n">is</span> <span class="n">disabled</span> <span class="n">on</span> <span class="n">this</span> <span class="n">system</span><span class="p">.</span> <span class="k">For</span> <span class="n">more</span> <span class="n">information</span><span class="p">,</span> <span class="n">see</span> 
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="n">about_Execution_Policies</span> <span class="n">at</span> <span class="n">https</span><span class="p">:/</span><span class="n">go</span><span class="p">.</span><span class="n">microsoft</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="n">fwlink</span><span class="p">/</span><span class="k">?</span><span class="n">LinkID</span><span class="p">=</span><span class="n">135170</span><span class="p">.</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="n">At</span> <span class="n">line</span><span class="p">:</span><span class="n">1</span> <span class="n">char</span><span class="p">:</span><span class="n">3</span>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="p">+</span> <span class="p">&amp;</span> <span class="n">C</span><span class="p">:/</span><span class="n">Users</span><span class="p">/</span><span class="n">David</span><span class="p">/</span><span class="n">Documents</span><span class="p">/</span><span class="n">ECPC</span><span class="p">/.</span><span class="n">venv</span><span class="p">/</span><span class="n">Scripts</span><span class="p">/</span><span class="n">Activate</span><span class="p">.</span><span class="n">ps1</span>
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="p">+</span>   <span class="p">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
</span><span id="__span-23-8"><a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a>    <span class="p">+</span> <span class="n">CategoryInfo</span>          <span class="p">:</span> <span class="n">SecurityError</span><span class="p">:</span> <span class="p">(:)</span> <span class="p">[],</span> <span class="n">PSSecurityException</span>
</span><span id="__span-23-9"><a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a>    <span class="p">+</span> <span class="n">FullyQualifiedErrorId</span> <span class="p">:</span> <span class="n">UnauthorizedAccess</span>
</span></code></pre></div>
Los dit op door na de foutmelding het volgende in te typen in de terminal:
<div class="language-ps1 highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="nb">Set-ExecutionPolicy</span> <span class="n">-Scope</span> <span class="n">CurrentUser</span> <span class="n">RemoteSigned</span>
</span></code></pre></div>
Open daarna nogmaals een nieuwe terminal. Nu moet je wél <code>(ECPC)</code> aan het begin van de prompt zien staan.</p>
</div>
</div>
<div class="tabbed-block">
<p><strong>Checkpunten</strong></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Je hebt een virtual environment aangemaakt.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> De environment bevat de packages <code>pyvisa</code>, <code>pyvisa-py</code> en <code>pyserial</code>. </li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> De environment is geactiveerd (er staat <code>(ECPC)</code> aan het begin van de prompt).</li>
</ul>
<p><strong>Projecttraject</strong></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Vergelijk script met <code>pyvisa-shell</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Pythonscript aanmaken</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Virtual environment aanmaken</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> PyVISA in Pythonscript</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> LED laten branden</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> flashingLED</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Account aanmaken</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> GitHub Desktop installeren</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Van bestaande map repository maken</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Commit </li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Push en pull</li>
</ul>
</div>
</div>
</div>
</div>
<div id="opd:test_arduino"></div>
<div class="admonition opdracht-basis">
<p class="admonition-title">PyVISA in Pythonscript</p>
<div class="tabbed-set tabbed-alternate" data-tabs="11:3"><input checked="checked" id="__tabbed_11_1" name="__tabbed_11" type="radio" /><input id="__tabbed_11_2" name="__tabbed_11" type="radio" /><input id="__tabbed_11_3" name="__tabbed_11" type="radio" /><div class="tabbed-labels"><label for="__tabbed_11_1">opdracht</label><label for="__tabbed_11_2">code</label><label for="__tabbed_11_3">check</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><div class="grid-tree" markdown>
    <div>
    Je gaat de gegeven Pythoncode testen. Je heb het virtual environment dat je bij <a href="#opd:venv">opdracht Virtual environment aanmaken</a> hebt gemaakt al geselecteerd. Je bestand is opgeslagen dus je kunt het runnen en kijken of het werkt!
    </div>
    <div>
    <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 96c0-35.3 28.7-64 64-64h132.1c19.1 0 37.4 7.6 50.9 21.1L289.9 96H448c35.3 0 64 28.7 64 64v256c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64zm64-16c-8.8 0-16 7.2-16 16v320c0 8.8 7.2 16 16 16h384c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16H286.6c-10.6 0-20.8-4.2-28.3-11.7L213.1 87c-4.5-4.5-10.6-7-17-7z"/></svg></span><code>ECPC</code><br />
    ├──<span style="color: green;"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16h160v80c0 17.7 14.3 32 32 32h80v288c0 8.8-7.2 16-16 16zM64 0C28.7 0 0 28.7 0 64v384c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3l-90.6-90.5C262.7 6.7 246.5 0 229.5 0zm97 289c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0L79 303c-9.4 9.4-9.4 24.6 0 33.9l48 48c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-31-31 31-31zm96-34c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l31 31-31 31c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l48-48c9.4-9.4 9.4-24.6 0-33.9l-48-48z"/></svg></span></span><code>test_arduino.py</code><br />
    └──&bull;&bull;&bull;<br />
    </div>
</div></p>
<div class="admonition info">
<p class="admonition-title">could not open port 'COM28': FileNotFoundError</p>
<p>Krijg je een <code class="language-py highlight"><span class="ne">FileNotFoundError</span></code>? Dan kan het zijn dat het script een poort probeert te openen die bij jou een andere naam heeft. Probeer met het lijstje instrumenten te raden welke poort de Arduino is en pas het script aan totdat het werkt.<sup id="fnref:tip-aansluiten"><a class="footnote-ref" href="#fn:tip-aansluiten">8</a></sup></p>
</div>
<div class="admonition info">
<p class="admonition-title">could not open port 'COM3': PermissionError</p>
<p>Krijg je een <code class="language-py highlight"><span class="ne">PermissionError</span></code>? Dan heb je vast nog een terminal openstaan waarin <code>pyvisa-shell</code> actief is. Sluit deze eerste af.</p>
</div>
</div>
<div class="tabbed-block">
<p><strong>Pseudo-code</strong>
<div class="language-py highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="c1"># import pyvisa package</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="c1"># create resource manager</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="c1"># get list resources</span>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="c1"># open device</span>
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="c1"># send query to get identification string</span>
</span></code></pre></div>
<strong>Testcode</strong>    <br />
<div class="code-box"><button type="button" name="test_arduino_test_code" onclick="runScript('test_arduino_test_code')" class="run"><svg class="run" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg></button><button type="button" name="test_arduino_test_code" onclick="runScript('test_arduino_test_code')" class="reload invisible"><svg class="reload" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H464c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z"/></svg></button> test_arduino.py
<div class="language-py highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="o">...</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="nb">print</span><span class="p">(</span><span class="n">ports</span><span class="p">)</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="nb">print</span><span class="p">(</span><span class="n">identification</span><span class="p">)</span>
</span></code></pre></div>
<pre>
<code>(ECPC) &gt; python test_arduino.py
<span class="invisible" name="test_arduino_test_code">('ASRL28::INSTR',)
Arduino VISA firmware v1.1.0</span>
</code></pre></div></p>
</div>
<div class="tabbed-block">
<p><strong>Checkpunten</strong></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Je hebt het juiste environment geselecteerd (zie ook <a href="#opd:venv">opdracht Virtual environment aanmaken</a>).</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Je opent de poort met de naam van jouw Arduino (in het geval dat jouw Arduino niet 'ASRL28::INSTR' heet). </li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Je hebt alle terminals (ook de <code>terminal</code> buiten Visual Studio Code) gesloten waarin communicatie met de Arduino openstond. </li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Je krijgt een lijst met poorten en de identificatiestring terug als je het script runt.</li>
</ul>
<p><strong>Projecttraject</strong></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Vergelijk script met <code>pyvisa-shell</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Pythonscript aanmaken</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Virtual environment aanmaken</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> PyVISA in Pythonscript</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> LED laten branden</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> flashingLED</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Account aanmaken</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> GitHub Desktop installeren</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Van bestaande map repository maken</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Commit </li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Push en pull</li>
</ul>
</div>
</div>
</div>
</div>
<div class="admonition opdracht-basis">
<p class="admonition-title">LED laten branden</p>
<div class="tabbed-set tabbed-alternate" data-tabs="12:3"><input checked="checked" id="__tabbed_12_1" name="__tabbed_12" type="radio" /><input id="__tabbed_12_2" name="__tabbed_12" type="radio" /><input id="__tabbed_12_3" name="__tabbed_12" type="radio" /><div class="tabbed-labels"><label for="__tabbed_12_1">opdracht</label><label for="__tabbed_12_2">code</label><label for="__tabbed_12_3">check</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><div class="grid-tree" markdown>
    <div>
    Om straks de $I,U$-karakteristiek van een LED te kunnen bepalen, ga je nu eerst een reeks spanningen naar de LED sturen. Hierdoor gaat de LED branden. Je maakt hiervoor een bestand <span style="color: green;"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16h160v80c0 17.7 14.3 32 32 32h80v288c0 8.8-7.2 16-16 16zM64 0C28.7 0 0 28.7 0 64v384c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3l-90.6-90.5C262.7 6.7 246.5 0 229.5 0zm97 289c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0L79 303c-9.4 9.4-9.4 24.6 0 33.9l48 48c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-31-31 31-31zm96-34c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l31 31-31 31c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l48-48c9.4-9.4 9.4-24.6 0-33.9l-48-48z"/></svg></span></span><code>test_LED.py</code> aan in de map <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 96c0-35.3 28.7-64 64-64h132.1c19.1 0 37.4 7.6 50.9 21.1L289.9 96H448c35.3 0 64 28.7 64 64v256c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64zm64-16c-8.8 0-16 7.2-16 16v320c0 8.8 7.2 16 16 16h384c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16H286.6c-10.6 0-20.8-4.2-28.3-11.7L213.1 87c-4.5-4.5-10.6-7-17-7z"/></svg></span><code>ECPC</code>. Je schrijft eerst een regel code waarmee je een commando naar de Arduino stuurt waardoor de LED gaat branden. Daarna schrijf je de code om zodat de spanning oploopt van de minimale waarde tot aan de maximale waarde.
    </div>
    <div>
    <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 96c0-35.3 28.7-64 64-64h132.1c19.1 0 37.4 7.6 50.9 21.1L289.9 96H448c35.3 0 64 28.7 64 64v256c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64zm64-16c-8.8 0-16 7.2-16 16v320c0 8.8 7.2 16 16 16h384c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16H286.6c-10.6 0-20.8-4.2-28.3-11.7L213.1 87c-4.5-4.5-10.6-7-17-7z"/></svg></span><code>ECPC</code><br />
    ├──<span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16h160v80c0 17.7 14.3 32 32 32h80v288c0 8.8-7.2 16-16 16zM64 0C28.7 0 0 28.7 0 64v384c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3l-90.6-90.5C262.7 6.7 246.5 0 229.5 0zm97 289c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0L79 303c-9.4 9.4-9.4 24.6 0 33.9l48 48c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-31-31 31-31zm96-34c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l31 31-31 31c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l48-48c9.4-9.4 9.4-24.6 0-33.9l-48-48z"/></svg></span><code>test_arduino.py</code><br />
    ├──<span style="color: green;"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16h160v80c0 17.7 14.3 32 32 32h80v288c0 8.8-7.2 16-16 16zM64 0C28.7 0 0 28.7 0 64v384c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3l-90.6-90.5C262.7 6.7 246.5 0 229.5 0zm97 289c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0L79 303c-9.4 9.4-9.4 24.6 0 33.9l48 48c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-31-31 31-31zm96-34c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l31 31-31 31c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l48-48c9.4-9.4 9.4-24.6 0-33.9l-48-48z"/></svg></span></span><code>test_LED.py</code><br />
    └──&bull;&bull;&bull;<br />
    </div>
</div></p>
<div class="admonition info">
<p class="admonition-title">f-strings</p>
<p>Het sturen van commando's naar de Arduino waar een variabele spanning in staat gaat gemakkelijk met f-strings. Voor meer informatie zie de <a href="../basis-python/#f-strings-variabelen-en-input">paragraaf f-strings</a>.</p>
</div>
</div>
<div class="tabbed-block">
<p><strong>Pseudo-code</strong>
<div class="language-py highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="c1"># import pyvisa package</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="c1"># create resource manager</span>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="c1"># get list resources</span>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="c1"># open device</span>
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="c1"># send query to get identifaction string</span>
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="c1">#</span>
</span><span id="__span-27-7"><a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="c1"># for value in min to max</span>
</span><span id="__span-27-8"><a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a><span class="c1">#   send query to set output channel to value</span>
</span></code></pre></div>
<strong>Testcode</strong>    <br />
<div class="code-box"><button type="button" name="test_LED" onclick="runScript('test_LED')" class="run"><svg class="run" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg></button><button type="button" name="test_LED" onclick="runScript('test_LED')" class="reload invisible"><svg class="reload" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H464c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z"/></svg></button> test_LED.py
<div class="language-py highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="o">...</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="n">final_value</span> <span class="o">=</span> <span class="n">device</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;OUT:CH0?&quot;</span><span class="p">)</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="nb">print</span><span class="p">(</span><span class="n">final_value</span><span class="p">)</span>
</span></code></pre></div>
<pre>
<code>(ECPC) &gt; python test_LED.py
<span class="invisible" name="test_LED">1023</span>
</code></pre></div>        </p>
</div>
<div class="tabbed-block">
<p><strong>Checkpunten</strong></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Je hebt het juiste environment geselecteerd (zie ook <a href="#opd:venv">opdracht Virtual environment aanmaken</a>).</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Je opent de poort met de naam van jouw Arduino (in het geval dat jouw Arduino niet 'ASRL28::INSTR' heet). </li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Je hebt alle terminals (ook de <code>terminal</code> buiten Visual Studio Code) gesloten waarin communicatie met de Arduino openstond. </li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Je krijgt een lijst met poorten en de identificatiestring terug als je het script runt.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Je laat de spanning oplopen van de minimale tot de maximale waarde. </li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Als je goed kijkt zie je de LED vertraagd oplichten.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Als je de waarde op kanaal 0 opvraagt aan het eind van de reeks met <code>OUT:CH0?</code> krijg je <code>1023</code> terug.</li>
</ul>
<p><strong>Projecttraject</strong></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Vergelijk script met <code>pyvisa-shell</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Pythonscript aanmaken</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Virtual environment aanmaken</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> PyVISA in Pythonscript</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> LED laten branden</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> flashingLED</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Account aanmaken</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> GitHub Desktop installeren</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Van bestaande map repository maken</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Commit </li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Push en pull</li>
</ul>
</div>
</div>
</div>
</div>
<div id="opd:flashingLED"></div>
<div class="admonition opdracht-basis">
<p class="admonition-title">flashingLED</p>
<div class="tabbed-set tabbed-alternate" data-tabs="13:3"><input checked="checked" id="__tabbed_13_1" name="__tabbed_13" type="radio" /><input id="__tabbed_13_2" name="__tabbed_13" type="radio" /><input id="__tabbed_13_3" name="__tabbed_13" type="radio" /><div class="tabbed-labels"><label for="__tabbed_13_1">opdracht</label><label for="__tabbed_13_2">code</label><label for="__tabbed_13_3">check</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><div class="grid-tree" markdown>
    <div>
    Om bekend te raken met de code maak je een nieuw bestand <span style="color: green;"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16h160v80c0 17.7 14.3 32 32 32h80v288c0 8.8-7.2 16-16 16zM64 0C28.7 0 0 28.7 0 64v384c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3l-90.6-90.5C262.7 6.7 246.5 0 229.5 0zm97 289c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0L79 303c-9.4 9.4-9.4 24.6 0 33.9l48 48c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-31-31 31-31zm96-34c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l31 31-31 31c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l48-48c9.4-9.4 9.4-24.6 0-33.9l-48-48z"/></svg></span></span><code>flashingLED.py</code> aan in de map <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 96c0-35.3 28.7-64 64-64h132.1c19.1 0 37.4 7.6 50.9 21.1L289.9 96H448c35.3 0 64 28.7 64 64v256c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64zm64-16c-8.8 0-16 7.2-16 16v320c0 8.8 7.2 16 16 16h384c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16H286.6c-10.6 0-20.8-4.2-28.3-11.7L213.1 87c-4.5-4.5-10.6-7-17-7z"/></svg></span><code>ECPC</code>. Hierin schrijf je code om de LED in een regelmatig tempo te laten knipperen.
    </div>
    <div>
    <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 96c0-35.3 28.7-64 64-64h132.1c19.1 0 37.4 7.6 50.9 21.1L289.9 96H448c35.3 0 64 28.7 64 64v256c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64zm64-16c-8.8 0-16 7.2-16 16v320c0 8.8 7.2 16 16 16h384c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16H286.6c-10.6 0-20.8-4.2-28.3-11.7L213.1 87c-4.5-4.5-10.6-7-17-7z"/></svg></span><code>ECPC</code><br />
    ├──<span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16h160v80c0 17.7 14.3 32 32 32h80v288c0 8.8-7.2 16-16 16zM64 0C28.7 0 0 28.7 0 64v384c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3l-90.6-90.5C262.7 6.7 246.5 0 229.5 0zm97 289c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0L79 303c-9.4 9.4-9.4 24.6 0 33.9l48 48c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-31-31 31-31zm96-34c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l31 31-31 31c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l48-48c9.4-9.4 9.4-24.6 0-33.9l-48-48z"/></svg></span><code>test_arduino.py</code><br />
    ├──<span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16h160v80c0 17.7 14.3 32 32 32h80v288c0 8.8-7.2 16-16 16zM64 0C28.7 0 0 28.7 0 64v384c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3l-90.6-90.5C262.7 6.7 246.5 0 229.5 0zm97 289c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0L79 303c-9.4 9.4-9.4 24.6 0 33.9l48 48c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-31-31 31-31zm96-34c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l31 31-31 31c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l48-48c9.4-9.4 9.4-24.6 0-33.9l-48-48z"/></svg></span><code>test_LED.py</code><br />
    ├──<span style="color: green;"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16h160v80c0 17.7 14.3 32 32 32h80v288c0 8.8-7.2 16-16 16zM64 0C28.7 0 0 28.7 0 64v384c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3l-90.6-90.5C262.7 6.7 246.5 0 229.5 0zm97 289c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0L79 303c-9.4 9.4-9.4 24.6 0 33.9l48 48c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-31-31 31-31zm96-34c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l31 31-31 31c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l48-48c9.4-9.4 9.4-24.6 0-33.9l-48-48z"/></svg></span></span><code>flashingLED.py</code><br />
    └──&bull;&bull;&bull;<br />
    </div>
</div></p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Je kan hiervoor gebruik maken van de module <em>time</em> die standaard met Python meekomt.<sup id="fnref:standard-library"><a class="footnote-ref" href="#fn:standard-library">9</a></sup> Met de functie <code>sleep()</code> kun je de executie van de volgende regel in het script met een aantal seconden uitstellen.</p>
<div class="language-py highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="c1"># wait 28 second</span>
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">28</span><span class="p">)</span>
</span></code></pre></div>
</div>
</div>
<div class="tabbed-block">
<p><strong>Pseudo-code</strong>
<div class="language-py highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="c1"># import pyvisa package</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="c1"># create resource manager</span>
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="c1"># get list resources</span>
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="c1"># open device</span>
</span><span id="__span-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="c1"># send query to get identification string</span>
</span><span id="__span-30-6"><a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="c1">#</span>
</span><span id="__span-30-7"><a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="c1"># repeat:</span>
</span><span id="__span-30-8"><a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a><span class="c1">#   send query set output channel to max</span>
</span><span id="__span-30-9"><a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a><span class="c1">#   wait</span>
</span><span id="__span-30-10"><a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a><span class="c1">#   send query set output channel to min</span>
</span><span id="__span-30-11"><a id="__codelineno-30-11" name="__codelineno-30-11" href="#__codelineno-30-11"></a><span class="c1">#   wait</span>
</span></code></pre></div>
<strong>Testvoorbeeld</strong></p>
<p><iframe src="https://drive.google.com/file/d/1GdP3-9LTCSW_UGF708GlX0rKdhoNS5_G/preview" width="500" height="281" style="border:none;" align="left"></iframe></p>
</div>
<div class="tabbed-block">
<p><strong>Checkpunten</strong></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> De LED staat een tijd aan en een tijd uit.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Het aan- en uitgaan van de LED herhaalt zich enkele keren.</li>
</ul>
<p><strong>Projecttraject</strong></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Vergelijk script met <code>pyvisa-shell</code></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Pythonscript aanmaken</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> Virtual environment aanmaken</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> PyVISA in Pythonscript</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> LED laten branden</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" checked/><span class="task-list-indicator"></span></label> flashingLED</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Account aanmaken</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> GitHub Desktop installeren</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Van bestaande map repository maken</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Commit </li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox"/><span class="task-list-indicator"></span></label> Push en pull</li>
</ul>
</div>
</div>
</div>
</div>
<div class="admonition opdracht-meer">
<p class="admonition-title">Meer knipperritmes</p>
<p>Breid het bestand <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16h160v80c0 17.7 14.3 32 32 32h80v288c0 8.8-7.2 16-16 16zM64 0C28.7 0 0 28.7 0 64v384c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3l-90.6-90.5C262.7 6.7 246.5 0 229.5 0zm97 289c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0L79 303c-9.4 9.4-9.4 24.6 0 33.9l48 48c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-31-31 31-31zm96-34c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l31 31-31 31c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l48-48c9.4-9.4 9.4-24.6 0-33.9l-48-48z"/></svg></span><code>flashingLED.py</code> uit met meer knipperritmes. Bijvoorbeeld:</p>
<ul>
<li>Maak een <em>SOS light</em> &mdash; een lamp die in morsecode het signaal SOS uitzendt.</li>
<li>Maak een <em>breathing light</em> &mdash; een lamp die langzaam aan- en uitgaat gevolgd door een pauze in het tempo dat iemand in- en uitademt.</li>
<li>Maak een <em>heartbeat light</em> &mdash; een lamp die twee keer kort na elkaar flitst gevolgd door een pauze in het tempo van een hartslag.</li>
<li>Bedenk je eigen knipperritme.</li>
</ul>
</div>
<div class="footnote">
<hr />
<ol>
<li id="fn:firmware">
<p>Firmware is software die in hardware is geprogrammeerd. Bijvoorbeeld het <q>computerprogramma</q> dat ervoor zorgt dat je magnetron reageert op de knoppen en je eten verwarmd.&#160;<a class="footnote-backref" href="#fnref:firmware" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:proprietary">
<p><em>Proprietary</em> betekent dat een bedrijf of een individu exclusief de rechten heeft over het protocol of de software en anderen geen toegang geeft tot de details.&#160;<a class="footnote-backref" href="#fnref:proprietary" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:drivers">
<p>Niet zelden zijn dergelijke bibliotheken maar op een paar besturingssystemen beschikbaar als <em>driver</em>. Wordt een driver alleen op Windows ondersteund en gebruik jij MacOS in plaats van Windows? Dan kun je je dure meetinstrument dus niet gebruiken totdat je overstapt.&#160;<a class="footnote-backref" href="#fnref:drivers" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn:picoscope_footnote">
<p>Die overigens op vrijwel alle platforms en voor veel programmeertalen bibliotheken leveren.&#160;<a class="footnote-backref" href="#fnref:picoscope_footnote" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
<li id="fn:bronLED">
<p>Dit model bevat twee 3D modellen die zijn gecreëerd door Lara Sophie Schütt en AppliedSBC en zijn gedeeld onder respectievelijk een CC-BY en CC-BY-SA licentie. De originele modellen zijn te vinden via <a href="https://sketchfab.com/3d-models/cc0-set-of-electronic-components-f4cb777b4ea3490587008e24b61bcf75">[CC0] Set of Electronic Components</a> en <a href="https://sketchfab.com/3d-models/arduino-nano-33-iot-f57fd7f5485a47a8b71f8604872fd78c">Arduino Nano 33 IoT</a>. De modellen zijn samengevoegd en voorzien van een Arduino texture een aangepaste LED texture en draden. Dit 3D model heeft een CC-BY-SA licentie.&#160;<a class="footnote-backref" href="#fnref:bronLED" title="Jump back to footnote 5 in the text">&#8617;</a></p>
</li>
<li id="fn:USB">
<p>USB staat voor <em>Universal Serial Bus</em>, oftewel een universele standaard voor seriële communicatie. Dat mag je vergeten.&#160;<a class="footnote-backref" href="#fnref:USB" title="Jump back to footnote 6 in the text">&#8617;</a></p>
</li>
<li id="fn:regeleindes">
<p>De regeleindes voor de Arduino firmware zijn verschillend voor lezen en schrijven. Dit heeft een oninteressante reden: bij het ontvangen van commando's is het makkelijk om alles te lezen totdat je één bepaald karakter (LF) tegenkomt. Bij het schrijven gebruikt de standaard <code>println</code>-functie een Windows-stijl regeleinde (CRLF).&#160;<a class="footnote-backref" href="#fnref:regeleindes" title="Jump back to footnote 7 in the text">&#8617;</a></p>
</li>
<li id="fn:tip-aansluiten">
<p>Tip: als je de Arduino loshaalt en weer aansluit is het de nieuwe regel in het lijstje.&#160;<a class="footnote-backref" href="#fnref:tip-aansluiten" title="Jump back to footnote 8 in the text">&#8617;</a></p>
</li>
<li id="fn:standard-library">
<p>Zie ook: <a href="../vervolg-python/#de-standard-library-en-de-python-package-index">The Python Standard Library</a>&#160;<a class="footnote-backref" href="#fnref:standard-library" title="Jump back to footnote 9 in the text">&#8617;</a></p>
</li>
<li id="fn:arduino_device">
<p>Arduino AG. Arduino nano 33 iot. URL: <a href="https://store.arduino.cc/arduino-nano-33-iot">https://store.arduino.cc/arduino-nano-33-iot</a>.&#160;<a class="footnote-backref" href="#fnref:arduino_device" title="Jump back to footnote 10 in the text">&#8617;</a></p>
</li>
<li id="fn:arduino_visa_firmware">
<p>David B.R.A. Fokkema. Arduino visa firmware. 2020. URL: <a href="https://github.com/davidfokkema/arduino-visa-firmware">https://github.com/davidfokkema/arduino-visa-firmware</a>.&#160;<a class="footnote-backref" href="#fnref:arduino_visa_firmware" title="Jump back to footnote 11 in the text">&#8617;</a></p>
</li>
<li id="fn:VISA">
<p>IVI Foundation. Vpp-4.3: the visa library. 2018. URL: <a href="https://www.ivifoundation.org/downloads/Architecture Specifications/IVIspecstopost10-22-2018/vpp43_2018-10-19.pdf">https://www.ivifoundation.org/downloads/Architecture Specifications/IVIspecstopost10-22-2018/vpp43_2018-10-19.pdf</a>.&#160;<a class="footnote-backref" href="#fnref:VISA" title="Jump back to footnote 12 in the text">&#8617;</a></p>
</li>
<li id="fn:tektronix">
<p>Tektronix, Inc. URL: <a href="https://www.tek.com/">https://www.tek.com/</a>.&#160;<a class="footnote-backref" href="#fnref:tektronix" title="Jump back to footnote 13 in the text">&#8617;</a></p>
</li>
<li id="fn:national_instruments">
<p>National Instruments Corp. URL: <a href="https://www.ni.com/">https://www.ni.com/</a>.&#160;<a class="footnote-backref" href="#fnref:national_instruments" title="Jump back to footnote 14 in the text">&#8617;</a></p>
</li>
<li id="fn:picoscope">
<p>Pico Technology Limited. URL: <a href="https://www.picotech.com/">https://www.picotech.com/</a>.&#160;<a class="footnote-backref" href="#fnref:picoscope" title="Jump back to footnote 15 in the text">&#8617;</a></p>
</li>
<li id="fn:SCPI">
<p>SCPI Consortium. Standard commands for programmable instruments (scpi). 1999. URL: <a href="https://www.ivifoundation.org/docs/scpi-99.pdf">https://www.ivifoundation.org/docs/scpi-99.pdf</a>.&#160;<a class="footnote-backref" href="#fnref:SCPI" title="Jump back to footnote 16 in the text">&#8617;</a></p>
</li>
<li id="fn:pyvisa">
<p>PyVISA Authors. Pyvisa: control your instruments with python. URL: <a href="https://pyvisa.readthedocs.io/en/latest/">https://pyvisa.readthedocs.io/en/latest/</a>.&#160;<a class="footnote-backref" href="#fnref:pyvisa" title="Jump back to footnote 17 in the text">&#8617;</a></p>
</li>
</ol>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "toc.integrate", "navigation.top", "content.code.annotate"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="../javascripts/katex.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/contrib/auto-render.min.js"></script>
      
        <script src="../javascripts/model.js"></script>
      
        <script src="../assets/comparison/comparison.js"></script>
      
        <script src="../assets/ADC_slider/ADC_slider.js"></script>
      
        <script src="../assets/run_button/run_button.js"></script>
      
        <script src="../assets/cheatsheets/cheatsheets.js"></script>
      
        <script src="../assets/eastereggs/eastereggs.js"></script>
      
    
  </body>
</html>